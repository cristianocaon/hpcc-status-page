{"version":3,"sources":["components/layout/Header.jsx","components/Filter.jsx","components/PieChart.jsx","util/chartConfig.js","util/processLabel.js","util/parseSummaryData.js","components/Charts.jsx","components/Availability.jsx","service/requestSummary.js","views/Summary.jsx","service/requestJobs.js","views/Jobs.jsx","components/Legend.jsx","components/NodeCell.jsx","components/NodeTable.jsx","service/requestNodes.js","components/TableContainer.jsx","views/Nodes.jsx","components/layout/Content.jsx","views/App.jsx","components/Loading.jsx","index.jsx"],"names":["useStyles","makeStyles","root","display","justifyContent","margin","marginTop","marginBottom","a11yProps","index","id","Header","classes","useState","value","setValue","className","Paper","elevation","Tabs","onChange","event","indicatorColor","textColor","centered","Tab","label","component","Link","to","theme","formControl","spacing","minWidth","selectEmpty","Filter","title","partitions","onClick","item","setItem","items","FormControl","variant","InputLabel","Select","labelId","target","map","MenuItem","charAt","toUpperCase","slice","PieChart","data","Chart","register","ChartDataLabels","defaults","set","color","plugins","legend","position","labels","font","textAlign","align","height","width","options","responsive","animation","animateScale","animateRotate","layout","padding","top","bottom","maintainAspectRatio","datalabels","anchor","offset","borderWidth","borderColor","borderRadius","backgroundColor","context","dataset","weight","size","formatter","ctx","sum","chart","datasets","toFixed","chartConfig","values","hoverBackgroundColor","hoverOffset","processLabel","parseSummaryData","jobs","keys","Object","i","length","push","flexWrap","fontFamily","card","error","Charts","usage","usageLabels","usageValues","jobLabels","jobValues","nodes","nodeLabels","nodeValues","usageConfig","jobConfig","nodeConfig","Card","reduce","a","b","Typography","box","border","marginLeft","marginRight","opacity","transition","cursor","paper","Availability","popupState","usePopupState","popupId","partition","bindToggle","onMouseLeave","_","isOpen","close","style","Popper","bindPopper","require","charts","requestSummary","fetch","then","res","json","console","log","filterContainer","flexDirection","partitionItems","summaryInfo","Summary","setPartition","Alert","severity","AlertTitle","partitionFields","unshift","Divider","innerText","toLowerCase","ptt","errors","requestJobs","jobsInfo","Jobs","setStatus","fields","undefined","filter","job","column","header","field","headerName","obj","jobid","rows","columns","pageSize","autoHeight","disableColumnMenu","disableSelectionOnClick","flex_direction","alignContent","dot","Legend","cell","props","fontSize","text","NodeCell","status","children","info","colSpan","styleProps","alignItems","table","borderCollapse","tableLayout","paddingBottom","row","NodeTable","rack","number","nodename","getRows","requestNodes","overflowX","overflowY","tables","pagination","nodesInfo","TableContainer","page","setPage","rackNums","sort","n1","parseInt","split","n2","resultArray","chunkIndex","Math","floor","racks","num","getRacks","Pagination","count","Nodes","Content","path","icon","App","preventDefault","window","location","reload","faSync","spin","Loading","usePromiseTracker","promiseInProgress","CircularProgress","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.59da6bb8.chunk.js","sourcesContent":["import { useState } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    margin: '2em',\r\n    marginTop: '1em',\r\n    marginBottom: '1em'\r\n  }\r\n}));\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst Header = () => {\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(0);\r\n  const handleChange = (event, value) => {\r\n    setValue(value);\r\n  }\r\n  return (\r\n    <div className={classes.root}>\r\n      <Paper elevation={1}>\r\n        <Tabs value={value} onChange={handleChange} indicatorColor=\"primary\"\r\n          textColor=\"primary\" centered>\r\n          <Tab label=\"Summary\" {...a11yProps(0)} component={Link} to=\"/\" />\r\n          <Tab label=\"Jobs\" {...a11yProps(1)} component={Link} to=\"/jobs\" />\r\n          <Tab label=\"Nodes\" {...a11yProps(2)} component={Link} to=\"/nodes\" />\r\n        </Tabs>\r\n      </Paper>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;","import { useState } from 'react';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst Filter = ({ title, partitions, onClick }) => {\r\n  const classes = useStyles();\r\n  const [item, setItem] = useState('');\r\n\r\n  const handleChange = (event) => {\r\n    setItem(event.target.value);\r\n  };\r\n\r\n  let items = partitions || ['None', 'Running', 'Completing', 'Pending', 'Other'];\r\n\r\n  return (\r\n    <FormControl variant=\"filled\" className={classes.formControl}>\r\n      <InputLabel id=\"demo-simple-select-filled-label\">{title}</InputLabel>\r\n      <Select\r\n        labelId=\"demo-simple-select-filled-label\"\r\n        id=\"demo-simple-select-filled\"\r\n        value={item}\r\n        onChange={handleChange}\r\n      >\r\n        {items.map(item => {\r\n          return (\r\n            <MenuItem value={item}\r\n              onClick={onClick}>\r\n              {item.charAt(0).toUpperCase() + item.slice(1)}\r\n            </MenuItem>\r\n          )\r\n        })}\r\n      </Select>\r\n    </FormControl>\r\n  )\r\n}\r\n\r\nexport default Filter;","import { Chart } from 'chart.js';\r\nimport { Pie } from 'react-chartjs-2';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\n\r\nconst PieChart = ({ data }) => {\r\n  Chart.register(ChartDataLabels);\r\n  Chart.defaults.set('plugins.datalabels', {\r\n    color: '#FE777B'\r\n  });\r\n  Chart.defaults.plugins.legend.display = true;\r\n  Chart.defaults.plugins.legend.position = 'left';\r\n  Chart.defaults.plugins.legend.labels.font = 'Roboto';\r\n  Chart.defaults.plugins.legend.labels.textAlign = 'left';\r\n  Chart.defaults.plugins.legend.align = 'center';\r\n  return (\r\n    <div>\r\n      <Pie\r\n        data={data}\r\n        height={240}\r\n        width={480}\r\n        options={{\r\n          responsive: true,\r\n          animation: {\r\n            animateScale: true,\r\n            animateRotate: true\r\n          },\r\n          layout: {\r\n            padding: {\r\n              top: 20,\r\n              bottom: 20,\r\n            },\r\n          },\r\n          maintainAspectRatio: false,\r\n          plugins: {\r\n            datalabels: {\r\n              color: '#fff',\r\n              anchor: 'end',\r\n              align: 'start',\r\n              offset: -10,\r\n              borderWidth: 2,\r\n              borderColor: '#fff',\r\n              borderRadius: 25,\r\n              backgroundColor: (context) => {\r\n                return context.dataset.backgroundColor;\r\n              },\r\n              font: {\r\n                weight: 'bold',\r\n                size: '10'\r\n              },\r\n              formatter: (value, ctx) => {\r\n                let sum = 0;\r\n                let dataArr = ctx.chart.data.datasets[0].data;\r\n                dataArr.map(data => {\r\n                  sum += data;\r\n                });\r\n                let percentage = (value * 100 / sum).toFixed(2) + \"%\";\r\n                return percentage;\r\n              },\r\n              color: '#fff',\r\n            }\r\n          },\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PieChart;","const chartConfig = (labels, values) => {\r\n  const state = {\r\n    labels: labels,\r\n    datasets: [\r\n      {\r\n        data: values,\r\n        backgroundColor: ['#63b0cd', '#39393a', '#c1b098', '#e9d2f4', '#9b9b93'],\r\n        hoverBackgroundColor: [\r\n          '#63b0cd',\r\n          '#39393a',\r\n          '#c1b098',\r\n          '#e9d2f4',\r\n          '#9b9b93'\r\n        ],\r\n        hoverOffset: 4,\r\n      }\r\n    ]\r\n  }\r\n  return state;\r\n}\r\n\r\nexport default chartConfig;","const processLabel = (label) => {\r\n  if (label === 'CG') return 'Completing';\r\n  else if (label === 'OT') return 'Other';\r\n  else if (label === 'PD') return 'Pending';\r\n  else if (label === 'R') return 'Running';\r\n  else if (label === 'alloc_cpu') return 'Allocated';\r\n  else if (label === 'idle_cpu') return 'Idle';\r\n  else if (label === 'other_cpu') return 'Other';\r\n  else if (label === 'allocated' || label === 'down'\r\n    || label === 'drained' || label === 'draining' || label === 'idle'\r\n    || label === 'mixed' || label === 'other' || label === 'reserved') return label.charAt(0).toUpperCase() + label.slice(1);\r\n}\r\n\r\nexport default processLabel;","import processLabel from './processLabel';\r\n\r\nconst parseSummaryData = (jobs) => {\r\n  const keys = Object.keys(jobs);\r\n  const labels = [];\r\n  const values = [];\r\n  for (let i = 0; i < keys.length; i++) {\r\n    if (keys[i][0] !== '%' && (keys[i] !== 'total_jobs' && keys[i] !== 'total_nodes' && keys[i] !== 'total_cpu')) {\r\n      labels.push(processLabel(keys[i]));\r\n      values.push(Object.values(jobs)[i]);\r\n    }\r\n  }\r\n  return [labels, values];\r\n}\r\n\r\nexport default parseSummaryData;\r\n","import PieChart from './PieChart';\r\nimport Card from '@material-ui/core/Card';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport chartConfig from '../util/chartConfig';\r\nimport parseSummaryData from '../util/parseSummaryData';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    flexWrap: 'wrap',\r\n    marginBottom: '30px'\r\n  },\r\n  title: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    fontFamily: 'Roboto',\r\n    margin: '10px',\r\n  },\r\n  card: {\r\n    margin: '5px',\r\n  },\r\n  error: {\r\n    margin: '50px',\r\n    // textAlign: 'center',\r\n  }\r\n}));\r\n\r\nconst Charts = ({ data }) => {\r\n  const classes = useStyles();\r\n\r\n  const [usageLabels, usageValues] = parseSummaryData(data.usage)\r\n  const [jobLabels, jobValues] = parseSummaryData(data.jobs)\r\n  const [nodeLabels, nodeValues] = parseSummaryData(data.nodes)\r\n\r\n  const usageConfig = chartConfig(usageLabels, usageValues);\r\n  const jobConfig = chartConfig(jobLabels, jobValues);\r\n  const nodeConfig = chartConfig(nodeLabels, nodeValues);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Card className={classes.card}>\r\n        <label className={classes.title}><strong>Usage</strong></label>\r\n        {usageValues.reduce((a, b) => a + b) !== 0 ? <PieChart data={usageConfig} /> : <Typography className={classes.error}>No usage information available</Typography>}\r\n      </Card>\r\n      <Card className={classes.card}>\r\n        <label className={classes.title}><strong>Job Status</strong></label>\r\n        {jobValues.reduce((a, b) => a + b) !== 0 ? <PieChart data={jobConfig} /> : <Typography className={classes.error}>No jobs currently running</Typography>}\r\n      </Card>\r\n      <Card className={classes.card}>\r\n        <label className={classes.title}><strong>Node Status</strong></label>\r\n        {nodeValues.reduce((a, b) => a + b) !== 0 ? <PieChart data={nodeConfig} /> : <Typography className={classes.error}>No status information available</Typography>}\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Charts;\r\n","import React from 'react';\r\nimport Popper from '@material-ui/core/Popper'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n  usePopupState,\r\n  bindToggle,\r\n  bindPopper,\r\n} from 'material-ui-popup-state/hooks'\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    marginBottom: '10px',\r\n  },\r\n  box: {\r\n    border: '2px solid black',\r\n    borderRadius: '3px',\r\n    margin: '2px',\r\n    marginLeft: '4px',\r\n    marginRight: '4px',\r\n    padding: '4px',\r\n    color: 'white',\r\n    '&:hover': {\r\n      opacity: '0.5',\r\n      transition: 'opacity .4s ease-out',\r\n      cursor: 'pointer',\r\n    }\r\n  },\r\n  paper: {\r\n    padding: '10px',\r\n  },\r\n}));\r\n\r\nconst Availability = ({ partitions }) => {\r\n  const classes = useStyles();\r\n\r\n  const popupState = usePopupState({\r\n    variant: 'popper',\r\n    popupId: 'demoPopper',\r\n  })\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {Object.keys(partitions).map(partition => {\r\n        return (\r\n          <div {...bindToggle(popupState)} onMouseLeave={_ => {\r\n            if (popupState.isOpen) {\r\n              popupState.close();\r\n            }\r\n          }}>\r\n            <Typography className={classes.box} style={{ backgroundColor: partitions[partition] === 'UP' ? 'green' : 'red' }}>{partition}</Typography>\r\n            <Popper {...bindPopper(popupState)} transition>\r\n              <Paper className={classes.paper}>\r\n                <Typography><strong>Status</strong>: {partitions[partition]}</Typography>\r\n              </Paper>\r\n            </Popper>\r\n          </div>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Availability\r\n","import axios from 'axios';\r\n\r\nconst { charts, error, partitions } = require('../data/summary.json')\r\n\r\nconst requestSummary = () => {\r\n  const url = 'http://scarlet.hpcc.ttu.edu/slurm-web/summary';\r\n  fetch(url)\r\n    .then(res => res.json())\r\n    .then(data => console.log(data));\r\n  return !error ? { charts, partitions } : { charts, partitions, error };\r\n}\r\n\r\nexport default requestSummary;","import { useState } from 'react';\r\nimport Filter from '../components/Filter'\r\nimport Charts from '../components/Charts';\r\nimport Availability from '../components/Availability';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport { Alert, AlertTitle } from '@material-ui/lab';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport { trackPromise } from 'react-promise-tracker';\r\nimport requestSummary from '../service/requestSummary';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    margin: '2em',\r\n    marginTop: '1em',\r\n    marginBottom: '1em'\r\n  },\r\n  filterContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    margin: '10px',\r\n  },\r\n  title: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    fontFamily: 'Roboto',\r\n    margin: '10px',\r\n  },\r\n  error: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    fontFamily: 'Roboto',\r\n  }\r\n}));\r\n\r\nexport let partitionItems = [];\r\n\r\nconst summaryInfo = requestSummary();\r\n\r\nconst Summary = () => {\r\n  const classes = useStyles();\r\n  const [partition, setPartition] = useState(\"Total\");\r\n  // const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const handlePartitionSelection = (event) => {\r\n    setPartition(event.target.innerText);\r\n  }\r\n\r\n  if (!('error' in summaryInfo)) {\r\n    let { charts, partitions } = summaryInfo;\r\n\r\n    let partitionFields = Object.keys(partitions);\r\n    partitionItems = [...partitionFields];\r\n    partitionFields.unshift('Total');\r\n    partitionFields.push('All');\r\n\r\n    return (\r\n      <>\r\n        {/* {isLoading ? */}\r\n        {/* <> */}\r\n        <h2 className={classes.title}>Partition Status</h2>\r\n        <Availability partitions={partitions} />\r\n        <Divider />\r\n        <div className={classes.filterContainer}>\r\n          <Filter title=\"Partition\"\r\n            partitions={partitionFields}\r\n            onClick={handlePartitionSelection}\r\n          />\r\n        </div>\r\n        {partition !== 'All'\r\n          ? <><h2 className={classes.title}>{partition}</h2>\r\n            <Charts data={charts[partition.toLowerCase()]} /></>\r\n          : <>{partitionItems.map(ptt => {\r\n            return <>\r\n              <h2 className={classes.title}>{ptt.charAt(0).toUpperCase() + ptt.slice(1)}</h2>\r\n              <Charts data={charts[ptt.toLowerCase()]} />\r\n            </>\r\n          })}</>\r\n        }\r\n        {/* </> */}\r\n        {/* : */}\r\n        {/* <Loading />} */}\r\n\r\n      </>\r\n    );\r\n  } else {\r\n    return <Alert severity=\"error\"\r\n      className={classes.error}>\r\n      <AlertTitle>Error</AlertTitle>'\r\n      {summaryInfo.error}'\r\n    </Alert>\r\n  }\r\n}\r\n\r\nexport default Summary;","const { errors, jobs } = require('../data/jobs.json')\r\n\r\nconst requestJobs = () => {\r\n  return !errors ? { jobs } : { jobs, errors };\r\n\r\n}\r\n\r\nexport default requestJobs;","import { useState } from 'react';\r\nimport Filter from '../components/Filter';\r\nimport { DataGrid } from '@material-ui/data-grid';\r\nimport { Alert, AlertTitle } from '@material-ui/lab';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport { partitionItems } from '../views/Summary';\r\nimport requestJobs from '../service/requestJobs';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    margin: '2em',\r\n    marginTop: '1em',\r\n    marginBottom: '1em'\r\n  },\r\n  filterContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    margin: '10px',\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  errors: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    fontFamily: 'Roboto',\r\n  }\r\n}));\r\n\r\nconst jobsInfo = requestJobs();\r\n\r\nconst Jobs = () => {\r\n  const classes = useStyles();\r\n\r\n  const [partition, setPartition] = useState(\"\");\r\n  const [status, setStatus] = useState(\"\");\r\n\r\n  const handlePartitionSelection = (event) => {\r\n    setPartition(event.target.innerText);\r\n  }\r\n\r\n  const handleStatusSelection = (event) => {\r\n    setStatus(event.target.innerText);\r\n  }\r\n\r\n  let fields = undefined;\r\n  let data = undefined;\r\n\r\n  if (!('errors' in jobsInfo)) {\r\n    let { jobs } = jobsInfo;\r\n    fields = Object.keys(jobs[0]).filter(job => {\r\n      return job !== 'nodelist';\r\n    }).map(column => {\r\n      let header = column.toUpperCase();\r\n      let width = column.length < 6 ? 110 : column.length < 7 ? 120 : column.length < 9 ? 140 : 150;\r\n      if (column === 'jobid') {\r\n        column = 'id';\r\n        header = 'JOBID';\r\n      }\r\n      return ({\r\n        field: column,\r\n        headerName: header,\r\n        width: width,\r\n      });\r\n    });\r\n\r\n    data = jobs.map(obj => {\r\n      let { jobid, ...data } = obj;\r\n      data[\"id\"] = jobid;\r\n      return data;\r\n    });\r\n\r\n    return (\r\n      <div>\r\n        <div className={classes.root}>\r\n          <div className={classes.filterContainer}>\r\n            <Filter title=\"Partition\"\r\n              partitions={partitionItems}\r\n              onClick={handlePartitionSelection}\r\n            />\r\n            <Filter title=\"Status\"\r\n              onClick={handleStatusSelection} />\r\n          </div>\r\n          <DataGrid\r\n            rows={data}\r\n            columns={fields}\r\n            pageSize={8}\r\n            autoHeight={true}\r\n            disableColumnMenu={true}\r\n            disableSelectionOnClick={true}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return <Alert severity=\"error\"\r\n      className={classes.errors}>\r\n      <AlertTitle>Error</AlertTitle>'\r\n      {jobsInfo.errors}'\r\n    </Alert>\r\n  }\r\n}\r\n\r\nexport default Jobs","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    display: 'flex',\r\n    flex_direction: 'row',\r\n    justifyContent: 'center',\r\n    margin: '0.5em',\r\n    alignContent: 'center',\r\n    '& span': {\r\n      fontFamily: 'Roboto, sans-serif',\r\n      margin: '0.5em',\r\n      justifyContent: 'center',\r\n    },\r\n  },\r\n  dot: {\r\n    height: '15px',\r\n    width: '15px',\r\n    borderRadius: '50%',\r\n    display: 'inline-block',\r\n  }\r\n}));\r\n\r\nconst Legend = () => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.root}>\r\n      <span className={classes.dot} style={{ backgroundColor: '#78AD32' }}></span><span> Allocated </span>\r\n      <span className={classes.dot} style={{ backgroundColor: '#E98B15' }}></span><span> Idle </span>\r\n      <span className={classes.dot} style={{ backgroundColor: '#3D6171' }}></span><span>  Drained </span>\r\n      <span className={classes.dot} style={{ backgroundColor: '#9AAB99' }}></span><span> Draining </span>\r\n      <span className={classes.dot} style={{ backgroundColor: '#DC391A' }}></span><span> Down </span>\r\n      <span className={classes.dot} style={{ backgroundColor: '#463C3E' }}></span><span> Reserved </span>\r\n      <span className={classes.dot} style={{ backgroundColor: '#166137' }}></span><span> Mix</span>\r\n      <span className={classes.dot} style={{ backgroundColor: '#b9b7bd' }}></span><span> Empty</span>\r\n      <span className={classes.dot} style={{ backgroundColor: '#313628' }}></span><span> Other</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Legend\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popper from '@material-ui/core/Popper'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {\r\n  usePopupState,\r\n  bindToggle,\r\n  bindPopper,\r\n} from 'material-ui-popup-state/hooks'\r\n\r\nconst useStyles = makeStyles({\r\n  cell: props => ({\r\n    backgroundColor: props.backgroundColor,\r\n    color: '#fff',\r\n    fontFamily: 'Roboto',\r\n    fontSize: '0.4rem',\r\n    padding: '1em',\r\n    border: '0.5px solid #3d403f',\r\n    textAlign: 'center',\r\n    '&:hover': {\r\n      opacity: '0.5',\r\n      transition: 'opacity .4s ease-out',\r\n      cursor: 'pointer',\r\n    }\r\n  }),\r\n  paper: {\r\n    padding: '10px',\r\n  },\r\n  text: {\r\n    fontFamily: 'Roboto,,ans-serif',\r\n    fontSize: '0.7rem',\r\n  }\r\n})\r\n\r\nconst NodeCell = ({ children, info, colSpan }) => {\r\n  const generateStateColor = (status) => {\r\n    if (status === 'allocated') return '#78AD32';\r\n    else if (status === 'drained') return '#3D6171';\r\n    else if (status === 'idle') return '#E98B15';\r\n    else if (status === 'draining') return '#9AAB99';\r\n    else if (status === 'down*') return '#DC391A';\r\n    else if (status === 'reserved') return '#463C3E';\r\n    else if (status === 'mixed') return '#166137';\r\n    else if (status === 'empty') return '#b9b7bd';\r\n    else return '#313628';\r\n  }\r\n\r\n  const styleProps = { backgroundColor: generateStateColor(info.status) };\r\n  const classes = useStyles(styleProps);\r\n\r\n  const popupState = usePopupState({\r\n    variant: 'popper',\r\n    popupId: 'demoPopper',\r\n  })\r\n\r\n  return (\r\n    <td className={classes.cell} colSpan={colSpan} {...bindToggle(popupState)} onMouseLeave={_ => {\r\n      if (popupState.isOpen) {\r\n        popupState.close();\r\n      }\r\n    }}>\r\n      <Typography className={classes.text}>{children}</Typography>\r\n      <Popper {...bindPopper(popupState)} transition>\r\n        <Paper className={classes.paper}>\r\n          <Typography>\r\n            {Object.keys(info).map(field => <Typography><strong>{field}</strong>: {info[field]}</Typography>)}\r\n          </Typography>\r\n        </Paper>\r\n      </Popper>\r\n    </td >\r\n  )\r\n}\r\n\r\nexport default NodeCell\r\n","import NodeCell from './NodeCell';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  table: {\r\n    border: '3px solid #4c514f',\r\n    borderCollapse: 'separate',\r\n    margin: '5px',\r\n    tableLayout: 'fixed',\r\n    width: '275px'\r\n  },\r\n  title: {\r\n    fontFamily: 'Roboto, sans-serif',\r\n    paddingBottom: '0',\r\n  },\r\n  row: {\r\n    width: '300px',\r\n  }\r\n}));\r\n\r\nconst NodeTable = ({ rack, number }) => {\r\n  const classes = useStyles();\r\n\r\n  const getRows = (rack) => {\r\n    let rows = [];\r\n    for (let row = Object.keys(rack).length; row > 0; row--) {\r\n      rows.push(\r\n        <tr className={classes.row}>\r\n          {rack[row].map(obj => {\r\n            if (rack[row].length === 1) {\r\n              if (obj) {\r\n                return <NodeCell info={obj} colSpan={4}>{obj.nodename}</NodeCell>\r\n              } else {\r\n                return <NodeCell info={{ status: 'empty' }} colSpan={4}>{'-------'}</NodeCell>\r\n\r\n              }\r\n            } else {\r\n              if (obj) {\r\n                return <NodeCell info={obj} colSpan={1}>{obj.nodename}</NodeCell>\r\n              } else {\r\n                return <NodeCell info={{ status: 'empty' }} colSpan={1}>{'-------'}</NodeCell>\r\n\r\n              }\r\n            }\r\n          })}\r\n        </tr>\r\n      )\r\n    }\r\n    return rows;\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <label className={classes.title}><em>{number}</em></label>\r\n      <table className={classes.table}>\r\n        {getRows(rack)}\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NodeTable\r\n","const { errors, nodes } = require('../data/nodes.json')\r\n\r\nconst requestNodes = () => {\r\n  return !errors ? { nodes } : { nodes, errors };\r\n}\r\n\r\nexport default requestNodes;","import React, { useState } from 'react';\r\nimport NodeTable from './NodeTable';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport { Alert, AlertTitle } from '@material-ui/lab';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport requestNodes from '../service/requestNodes';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    margin: '1em',\r\n    alignContent: 'center',\r\n    overflowX: 'auto',\r\n    overflowY: 'hidden'\r\n  },\r\n  tables: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    margin: '1em',\r\n    alignContent: 'center'\r\n  },\r\n  pagination: {\r\n    marginBottom: '20px',\r\n  },\r\n  errors: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    fontFamily: 'Roboto',\r\n  }\r\n}));\r\n\r\nconst nodesInfo = requestNodes();\r\n\r\nconst TableContainer = () => {\r\n  const classes = useStyles();\r\n  const [page, setPage] = useState(1);\r\n  if (!('errors' in nodesInfo)) {\r\n\r\n    let { nodes } = nodesInfo;\r\n\r\n    let rackNums = Object.keys(nodes).sort((a, b) => {\r\n      let n1 = parseInt(a.split('_')[1]);\r\n      let n2 = parseInt(b.split('_')[1]);\r\n      if (n1 < n2) return -1;\r\n      if (n1 > n2) return 1;\r\n      return 0;\r\n    }).reduce((resultArray, item, index) => {\r\n      const chunkIndex = Math.floor(index / 5)\r\n      if (!resultArray[chunkIndex]) {\r\n        resultArray[chunkIndex] = []\r\n      }\r\n      resultArray[chunkIndex].push(item)\r\n      return resultArray\r\n    }, []);\r\n\r\n    const getRacks = (racks, page) => {\r\n      let tables = [];\r\n      if (rackNums[page - 1]) {\r\n        for (let num of rackNums[page - 1]) {\r\n          tables.push(<NodeTable rack={racks[num]} number={num} />)\r\n        }\r\n      }\r\n      return tables;\r\n    }\r\n\r\n    return (\r\n      <Paper className={classes.root} elevation={1}>\r\n        <div className={classes.tables}>\r\n          {getRacks(nodes, page)}\r\n        </div>\r\n        <Pagination\r\n          className={classes.pagination}\r\n          page={page}\r\n          count={rackNums.length}\r\n          variant=\"outlined\"\r\n          onChange={(event, page) => setPage(page)} />\r\n      </Paper>\r\n    )\r\n  } else {\r\n    return <Alert severity=\"error\"\r\n      className={classes.errors}>\r\n      <AlertTitle>Error</AlertTitle>'\r\n      {nodesInfo.errors}'\r\n    </Alert>\r\n  }\r\n}\r\n\r\nexport default TableContainer\r\n","import { useState } from 'react';\r\nimport Legend from '../components/Legend';\r\nimport Filter from '../components/Filter';\r\nimport TableContainer from '../components/TableContainer';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport { partitionItems } from '../views/Summary';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  filterContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    margin: '10px',\r\n  },\r\n}));\r\n\r\nconst Nodes = () => {\r\n  const classes = useStyles();\r\n  const [partition, setPartition] = useState(\"\");\r\n\r\n  const handlePartitionSelection = (event) => {\r\n    setPartition(event.target.innerText);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Legend />\r\n      <div className={classes.filterContainer}>\r\n        <Filter title=\"Partition\"\r\n          partitions={partitionItems}\r\n          onClick={handlePartitionSelection} />\r\n      </div>\r\n      <TableContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Nodes;","import Summary from '../../views/Summary';\r\nimport Jobs from '../../views/Jobs';\r\nimport Nodes from '../../views/Nodes';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nconst Content = () => {\r\n  return (\r\n    <div className=\"Content\">\r\n      <Switch>\r\n        <Route path=\"/jobs\">\r\n          <Jobs />\r\n        </Route>\r\n        <Route path=\"/nodes\">\r\n          <Nodes />\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <Summary />\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Content\r\n","import { BrowserRouter as Router } from 'react-router-dom';\nimport Header from '../components/layout/Header';\nimport Content from '../components/layout/Content';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSync } from '@fortawesome/free-solid-svg-icons';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  info: {\n    display: 'flex',\n    justifyContent: 'center',\n    fontFamily: 'Roboto',\n    margin: '10px',\n    color: '#3D6171'\n  },\n  icon: {\n    marginLeft: '10px',\n    '&:hover': {\n      cursor: 'pointer',\n    }\n  }\n}));\n\nconst App = () => {\n  const classes = useStyles();\n\n  const handleRefresh = (event) => {\n    event.preventDefault();\n    window.location.reload();\n  }\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Header />\n        <label className={classes.info}>Refreshing automatically every 2 minutes\n          <a onClick={handleRefresh}><FontAwesomeIcon icon={faSync} className={classes.icon} spin /></a>\n        </label>\n        <Content />\n      </Router>\n    </div>\n  );\n};\n\nexport default App;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { usePromiseTracker } from \"react-promise-tracker\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    width: \"100%\",\r\n    height: \"100\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    '& > * + *': {\r\n      marginLeft: theme.spacing(2),\r\n    },\r\n\r\n  },\r\n}));\r\n\r\nconst Loading = () => {\r\n  const classes = useStyles();\r\n  const { promiseInProgress } = usePromiseTracker();\r\n  return (\r\n    promiseInProgress &&\r\n    <div className={classes.root}>\r\n      <CircularProgress />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './views/App';\nimport Loading from './components/Loading';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n    <Loading />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}